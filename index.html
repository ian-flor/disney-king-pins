<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disney King Pins - Member Auction Rules Agreement</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <!-- Admin Link -->
    <a href="admin.html" class="admin-link" title="Admin Dashboard">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"/>
        </svg>
        Admin
    </a>

    <div class="container">
        <!-- Banner Card -->
        <div class="card banner-card">
            <img src="images/banner.jpg" alt="Disney King Pins - Est. 2016" class="banner-image">
        </div>

        <!-- Header Card -->
        <div class="card header-card">
            <h1>Member Auction Rules</h1>
            <p class="subtitle">Please read all rules carefully before participating in member auctions.</p>
            <p class="disclaimer">*Rules and guidelines are subject to change at any time without prior notification.</p>
        </div>

        <!-- Scroll Progress Indicator -->
        <div class="scroll-progress-container" id="scroll-progress">
            <div class="progress-steps">
                <div class="progress-step" data-step="1">
                    <div class="step-circle">1</div>
                    <span class="step-label">Posting Rules</span>
                </div>
                <div class="progress-line" id="line-1"></div>
                <div class="progress-step" data-step="2">
                    <div class="step-circle">2</div>
                    <span class="step-label">Bidding Rules</span>
                </div>
                <div class="progress-line" id="line-2"></div>
                <div class="progress-step" data-step="3">
                    <div class="step-circle">3</div>
                    <span class="step-label">General Rules</span>
                </div>
                <div class="progress-line" id="line-3"></div>
                <div class="progress-step" data-step="4">
                    <div class="step-circle">4</div>
                    <span class="step-label">Sign</span>
                </div>
            </div>
        </div>

        <!-- Rules Card -->
        <div class="card rules-card">
            <!-- Introduction -->
            <div class="intro-text">
                <p>Periodically the Disney King Pins group will allow its members the opportunity to run member auctions on specified days and times. In addition to the DKP general buying and selling guidelines, the following rules and guidelines shall be adhered to by all members participating in member auctions.</p>
                <p class="warning">Any violations of member auction rules may result in the member's auction or bid being voided, the member being muted in the group for future auction days, and/or the member being removed from the group.</p>
            </div>

            <!-- Posting an Auction Section -->
            <div class="rules-section" id="section-posting">
                <div class="section-header">
                    <span class="section-title">Posting an Auction</span>
                    <span class="rule-count">19 rules</span>
                </div>
                <div class="section-content">
                    <ol class="rules-list">
                        <li id="rule-posting-1">Any <u>Disney related</u> items such as pins, pin accessories, and other collectibles may be auctioned during Member Auction days. <em>*DKP member buttons/pins may only be included in auctions with other items. They <u>shall not</u> be auctioned individually.</em></li>

                        <li id="rule-posting-2">When posting an auction, members shall follow the format of the example below:
                            <div class="example-box">
                                <div class="example-header">
                                    <span>Auction Post Template</span>
                                    <button type="button" class="copy-btn" id="copyTemplateBtn" aria-label="Copy template to clipboard">
                                        <svg class="copy-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                        </svg>
                                        <svg class="check-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                                            <polyline points="20 6 9 17 4 12"></polyline>
                                        </svg>
                                        <span class="copy-text">Copy Template</span>
                                    </button>
                                </div>
                                <p><strong>***MEMBER AUCTION***</strong></p>
                                <p>WDI Maleficent Profile LE 250, small bubble in translucent fill.</p>
                                <p>Starting Bid: $10</p>
                                <p>Shipping: $6 within the U.S.; International $15 (or no international)</p>
                                <p>Ends: 4/6/19 @ 6:00 pm PST.</p>
                                <p>*All bids must be in whole dollar increments.</p>
                                <p>*Payment Types Accepted: (e.g. Paypal and/or Venmo)</p>
                                <p>#disneykingpins #dkpauctions</p>
                            </div>
                        </li>

                        <li id="rule-posting-3">When listing the description of an item to be auctioned, members shall list a full description including an edition size if applicable (e.g. LE 250, OE, LR) <u>and any flaws, defects, or serious imperfections the item may have</u>.</li>

                        <li id="rule-posting-4">Members shall post a starting bid price. Auction hosts may start the bidding at any price; however, the member shall be required to sell the item being auctioned at the final bid price. Any member not completing the sale of their auctioned item for the final bid price without Admin approval will be suspended from future auction activity and/or removed from the group.</li>

                        <li id="rule-posting-5">All auctions shall contain a price for domestic shipping. Members shall also list their international shipping terms (e.g. No international shipping, actual pricing, or simply that international members will pay extra for shipping).</li>

                        <li id="rule-posting-6">All auctions shall have an ending date and time posted for the appropriate length of their auction. Auction lengths will be determined by the Admins in the Member Auction Announcement (e.g. 1-hour flash auctions). The time posted in the auction shall be in Pacific Standard Time (PST).</li>

                        <li id="rule-posting-7"><u>The time posted within the auction shall be the official end time of the auction.</u> This is due to members using Facebook on many different platforms such as mobile and desktop apps and some platforms do not show the official Facebook time stamp. Posting the official auction end time within the auction allows for all users to easily determine the end time of an auction.</li>

                        <li id="rule-posting-8">If for any reason the official end time listed within an auction differs by more than 3 minutes of the auction's posted Facebook time stamp (e.g. the auction is a 1-hour auction with a posted Facebook time stamp of 3:08 pm and auction lists an ending time of 4:12 pm), the auction will be deemed void and no winner will be declared.</li>

                        <li id="rule-posting-9">Auction hosts shall include what payment types they can accept (Paypal and/or Venmo). Hosts may only request payments as "Goods and Services" through a payment processor that provides a "Goods and Services" payment type. <strong class="highlight">NO ZELLE PAYMENTS!</strong></li>

                        <li id="rule-posting-10">All auctions shall contain a clear and properly formatted photo of the item(s) being auctioned. Members shall also include any additional photos needed to show any flaws, defects, or serious imperfections listed in the auction description.</li>

                        <li id="rule-posting-11">Members who post an auction <u>shall not delete</u> any in progress or completed auction without Admin approval. All member auctions will be deleted by Admins at the conclusion of Member Auction Days. This is so Admins may review any auction in the event of a member grievance.</li>

                        <li id="rule-posting-12">Any member who posts an auction that is deemed by the Admins' as suspicious or false will be immediately removed from the King Pins group and their activity will be reported to all other pin trading group Admins. This also includes any suspicious bidding activity (Shill bidding).</li>

                        <li id="rule-posting-13">Members may have a maximum of two (2) active auctions posted at a time.</li>

                        <li id="rule-posting-14">Members may "Bump" (Bump Up My Post) their active auctions one (1) time every 15 minutes, or a maximum of three (3) times per hour. "Bumping" includes the posting of GIF's, tagging of members, and/or any other unnecessary comments by the auction host. This is to allow other members the opportunity to have their auctions seen as well.</li>

                        <li id="rule-posting-15">Auction Hosts are responsible for monitoring, closing, and determining a winner of their auctions. At the conclusion of an auction, hosts shall post "Closed" in the comment section and edit the main auction post to reflect that their auction is closed. <span class="highlight">Once a winner is announced in the comments, the host shall turn off commenting for their auction.</span> This helps members to determine what auctions are active and what auctions to pass by in the group feed without having to open each auction.</li>

                        <li id="rule-posting-16"><u>Auctions officially close the second before time changes to the ending time listed in the auction post.</u> (e.g. The listed end time is 8:00 pm; therefore, in order for a bid to be valid it must be posted prior to the time changing to 8:00 pm or at 7:59:59). <u>The only exception to the closing time is the "No Sniping Rule" (<a href="#rule-posting-17" class="rule-link">See Rule 17 below</a>).</u></li>

                        <li id="rule-posting-17"><strong>No Sniping Rule:</strong> <span class="highlight">If there are any bids within the last 5 minutes of any auction, the closing time will be extended 5 minutes from the time the last bid was made until there are no bids within 5 minutes.</span>
                            <div class="example-box">
                                <p><strong>Example #1:</strong> If an auction ends at 8:00 pm, and there is a bid made at 7:58 pm, the new ending time will be 8:03 pm, and will continue until there are no bids for 5 minutes. <a href="#rule-posting-16" class="rule-link">Rule 16</a> will apply to all extended end times.</p>
                                <p><strong>Example #2:</strong> If an auction ends at 8:00 pm, and there are no bids within the last 5 minutes of the auction end time and a sniping bid is received with a timestamp of 8:00 pm, the sniping bid is invalid and will not activate the sniping rule because the auction was already officially closed per <a href="#rule-posting-16" class="rule-link">Rule 16</a>.</p>
                            </div>
                        </li>

                        <li id="rule-posting-18">Auction hosts shall determine the auction winner by the Facebook time stamp associated with a bidder's comment. To see the Facebook time stamp, simply hover your mouse icon over the comment time (1 min) to see the actual time. This can only be accomplished via computer. Mobile platform users are unable to perform this time stamp check.</li>

                        <li id="rule-posting-19">Winning bids are determined in the following order:
                            <ol type="a" class="sub-list">
                                <li>The valid bid closest to the posted or extended ending time, regardless of comment order, is deemed the winner.</li>
                                <li>If more than one valid bid has the same time listed, then the winning bid is determined based upon comment order of the tied bids only. The last bid posted prior to the end time will be deemed the winning bid.</li>
                                <li>If an auction host is unclear or is unable to determine a winner, they shall contact an Admin to assist prior to declaring an auction winner.</li>
                            </ol>
                        </li>
                    </ol>
                </div>
            </div>

            <!-- Bidding on Auctions Section -->
            <div class="rules-section" id="section-bidding">
                <div class="section-header">
                    <span class="section-title">Bidding on Auctions</span>
                    <span class="rule-count">7 rules</span>
                </div>
                <div class="section-content">
                    <ol class="rules-list">
                        <li id="rule-bidding-1">Only members who are serious about purchasing an item should bid on another member's auction.</li>

                        <li id="rule-bidding-2">All bids shall be made as a new comment in the comment section of an auction. Any bid made as a reply will be deemed void.</li>

                        <li id="rule-bidding-3">All bids shall be in whole dollar increments (3,4,5,6...). Any bid not in whole dollars ($4.25), or not at least 1 whole dollar higher than the previous bid, will be deemed void.</li>

                        <li id="rule-bidding-4">Members shall not delete any bid made on any auction without the approval of an Admin.</li>

                        <li id="rule-bidding-5">All auctions shall be paid via any of the auction host's listed payment type(s) as goods and services. Payment shall be made within 24 hours of the close of the auction. Failure to pay within 24 hours will be cause for removal from the group.</li>

                        <li id="rule-bidding-6">Members shall refrain from posting unnecessary comments, pictures, or GIF's on auctions. This activity is bothersome to auction hosts and clutters the bidding process for those interested in placing bids.</li>

                        <li id="rule-bidding-7"><span class="highlight">Any person bidding on an auction in a suspicious manner or caught "shill bidding" will be removed from the group and reported to all other pin trading group admins.</span></li>
                    </ol>
                </div>
            </div>

            <!-- General Rules Section -->
            <div class="rules-section" id="section-general">
                <div class="section-header">
                    <span class="section-title">General Rules</span>
                    <span class="rule-count">3 rules</span>
                </div>
                <div class="section-content">
                    <ol class="rules-list">
                        <li id="rule-general-1">If there is any discrepancies or grievances regarding a member auction, members shall contact an Admin prior to making any comments or posts within the group.</li>

                        <li id="rule-general-2">Should a situation arise that is not covered within the group or auction rules, the group administrators will evaluate the situation and render a final decision based on the information available and/or provided. We do our best to be fair to all parties involved and the group as a whole.</li>

                        <li id="rule-general-3">DKP administrators are not responsible for Facebook platform issues or errors and we reserve the right to deem any auction or bid void at any time and for any reason.</li>
                    </ol>
                </div>
            </div>

            <!-- Rules End Marker (for scroll detection) -->
            <div id="rules-end"></div>
        </div>

        <!-- Agreement Form Card -->
        <div class="card form-card locked" id="agreement-form-card">
            <!-- Lock Overlay -->
            <div class="form-lock-overlay" id="form-lock-overlay">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                <span>Please scroll down and read all rules to unlock the form</span>
            </div>

            <h2>Acknowledge Rules</h2>
            <p class="form-description">By submitting this form, you acknowledge that you have read and understand the Disney King Pins Member Auction Rules.</p>

            <form id="agreement-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" name="firstName" required placeholder="Enter your first name">
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name</label>
                        <input type="text" id="lastName" name="lastName" required placeholder="Enter your last name">
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="agreeCheckbox" name="agreeCheckbox" required>
                    <label for="agreeCheckbox">I agree to comply with all Disney King Pins Member Auction Rules</label>
                </div>

                <button type="submit" class="submit-btn" id="submitBtn">
                    <span class="btn-text">Submit Agreement</span>
                    <span class="btn-loading" style="display: none;">
                        <svg class="spinner" viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="3" fill="none" stroke-dasharray="31.4 31.4" stroke-linecap="round"/>
                        </svg>
                        Submitting...
                    </span>
                </button>
            </form>
        </div>

        <!-- Success Card (hidden by default) -->
        <div class="card success-card" id="success-card" style="display: none;">
            <div class="success-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="8 12 11 15 16 9"></polyline>
                </svg>
            </div>
            <h2>Thank You!</h2>
            <p>Your agreement has been recorded.</p>
            <div class="confirmation-box">
                <span class="confirmation-label">Your Confirmation Code:</span>
                <span class="confirmation-code" id="confirmationCode">DKP-XXXXXX</span>
            </div>
            <p class="confirmation-note">Please save this code for your records.</p>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Disney King Pins &copy; Est. 2016</p>
            <p class="update-date">Rules updated: 7.21.25</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/main.js"></script>
    <script>
    // Inline scroll progress - ensures it works even if main.js has issues
    (function() {
        let completed = new Set();
        let unlocked = false;

        const sections = [
            { id: 'section-posting', step: 1 },
            { id: 'section-bidding', step: 2 },
            { id: 'section-general', step: 3 }
        ];

        function updateStep(num, state) {
            const step = document.querySelector('.progress-step[data-step="' + num + '"]');
            if (step) {
                step.classList.remove('active', 'completed');
                if (state) step.classList.add(state);
            }
        }

        function updateLines() {
            for (let i = 1; i <= 3; i++) {
                const line = document.getElementById('line-' + i);
                if (line && completed.has(i)) line.classList.add('completed');
            }
        }

        function unlock() {
            if (unlocked) return;
            unlocked = true;
            const form = document.getElementById('agreement-form-card');
            if (form) {
                form.classList.remove('locked');
                sessionStorage.setItem('dkp_form_unlocked', 'true');
            }
            updateStep(4, 'active');
        }

        function check() {
            const vh = window.innerHeight;
            sections.forEach(function(s) {
                const el = document.getElementById(s.id);
                if (el && !completed.has(s.step)) {
                    const rect = el.getBoundingClientRect();
                    // Section is "read" when bottom is in upper 80% of viewport
                    if (rect.bottom < vh * 0.8) {
                        completed.add(s.step);
                        updateStep(s.step, 'completed');
                        updateLines();
                        if (s.step < 4 && !completed.has(s.step + 1)) {
                            updateStep(s.step + 1, 'active');
                        }
                        if (s.step === 3) unlock();
                    }
                }
            });
        }

        // Check if already unlocked
        if (sessionStorage.getItem('dkp_form_unlocked') === 'true') {
            for (let i = 1; i <= 3; i++) {
                completed.add(i);
                updateStep(i, 'completed');
            }
            updateLines();
            unlock();
        } else {
            updateStep(1, 'active');
        }

        window.addEventListener('scroll', check, { passive: true });
        setTimeout(check, 200);
    })();
    </script>
</body>
</html>
